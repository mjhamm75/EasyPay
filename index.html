<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Backbone Tutorial</title>
  <link href="/Users/mhamm/Desktop/EasyPay/bootstrap.css" rel="stylesheet">
  <link href="/Users/mhamm/Desktop/EasyPay/index.css" rel="stylesheet">
</head>
<body>
  <div class="container">
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <div class="nav-collapse collapse">
            <a class="brand" href="#">EasyTest</a>
            <ul class="nav">
              <li><a id="home" href="#">Home</a></li>
              <li><a id="weekly" href="#/weekly">Weekly</a></li>
              <li><a id="balances" href="#/balance">Balances</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="container" id="container-main">
    <h1>Easy Test</h1>
    <hr />
    <div class="page"></div>
  </div>

  <script type="text/template" id="main-view">
    <h4>This is the HOME view</h4>
  </script>

  <script type="text/template" id="new-view">
    <h4>This is the WEEKLY view</h4>
  </script>

  <script type="text/template" id="balance-view">
    <h4>This is the BALANCES view</h4>
  </script>

  <script src="/Users/mhamm/Desktop/EasyPay/jquery.js"></script>
  <script src="/Users/mhamm/Desktop/EasyPay/underscore.js"></script>
  <script src="/Users/mhamm/Desktop/EasyPay/bootstrap.js"></script>
  <script src="/Users/mhamm/Desktop/EasyPay/backbone.js"></script>
  <script>
    var NavView = Backbone.View.extend({
      el: '.nav',
      events: {
        "click #home": "home",
        "click #weekly": "weekly",
        "click #balances": "balances"
      },
      home: function(){
        console.log("home");
      },
      weekly: function(){
        console.log("weekly");
      },
      balances: function(){
        console.log("balances");
      }
    });

    var HomeView = Backbone.View.extend({
      el: '.page',
      render: function(){
        var template = _.template($('#main-view').html(), {});
        this.$el.html(template);
      }
    });

    var WeeklyView = Backbone.View.extend({
      el: '.page',
      render: function(){
        var template = _.template($('#new-view').html(), {});
        this.$el.html(template);
      }
    });

    var BalanceView = Backbone.View.extend({
      el: '.page',
      render: function(){
        var template = _.template($('#balance-view').html(), {});
        this.$el.html(template);
      }
    });

    var Router = Backbone.Router.extend({
      routes: {
        '': 'home',
        'weekly': 'weekly',
        'balance': 'balance'
      }
    });

    var homeView = new HomeView();
    var weeklyView = new WeeklyView();
    var balanceView = new BalanceView();
    var navView = new NavView();

    var router = new Router();

    router.on('route:home', function(){
      homeView.render();
    });

    router.on('route:weekly', function(){
      weeklyView.render();
    });

    router.on('route:balance', function(){
      balanceView.render();
    });

    Backbone.history.start();

  </script>

</body>
</html>